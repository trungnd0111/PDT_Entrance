<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./Ex1.css" />
  </head>
  <body>
    <style type="text/css">
      table {
        counter-reset: rowNumber;
      }
      table tr {
        counter-increment: rowNumber;
      }

      table tr td:first-child::before {
        content: counter(rowNumber);
        min-width: 1em;
        margin-right: 0.5em;
      }
    </style>

    <script>
      var data = [];
      function submtBtn() {

        var tr = "<tr>";
        tr += "<td>";
        tr += "<td>" + document.getElementsByName("mssv")[0].value + "</td>";
        tr += "<td>" + document.getElementsByName("hoTen")[0].value + "</td>";
        tr += "<td>" + document.getElementsByName("queQuan")[0].value + "</td>";
        tr += "<td>" + document.getElementsByName("GPA")[0].value + "</td>";
        var table = document.getElementsByTagName("table")[0];
        table.innerHTML = table.innerHTML + tr;
        return false;
      }
    </script>
    
    <script>
      function calculateFunc() {  
        var arr = document.getElementsByName("GPA");
        var tot = 0;
        var av = 0;

        for (var i = 0; i < arr.length; i++) {
          if (parseInt(arr[i].value)) {
          tot += parseInt(arr[i].value);
          }
        }

av = tot / arr.length;
    document.getElementById("result").value = av;
return false;
}
    </script>
    <script>
      function searchQueQuan(){
        let valueSearchInput = document.getElementById("search").value
        let queQuanSearch = document.getElementsByName("queQuan").filter(item =>{
          return item.name.toUpperCase().includes(valueSearchInput.toUpperCase())
        })
      }
    </script>
    <form action="">
      <label for="mssv">Mã sinh viên</label>
      <input type="text" name="mssv" />
      <br />
      <br />
      <label for="hoTen">Họ Tên</label>
      <input type="text" name="hoTen" />
      <label for="queQuan">Quê quán</label>
      <input type="text" name="queQuan" />
      <br>
      <br>
      <label for="queQuan">GPA</label>
      <input type="number" name="GPA" />
      <br /><br />
      <br />

      <button class="submit" onclick="return submtBtn()" type="submit">
        Submit
      </button>
      <br>
      <br>
    </form>
    <button onclick="calculateFunc()">Tìm GPA trung bình</button>
    GPA trung bình: <input type="text" name="result" id="result" value="" disabled>
    <div class="wrap">
      
    <label for="search"></label>
    <input type="text" id="search" placeholder="Search" oninput="searchQueQuan()">

   </div>
    <table class="styled-table">
      <thead>
        <tr>
          <th>STT</th>
          <th>Mã Sinh Viên</th>
          <th>Họ tên</th>
          <th>Quê quán</th>
          <th>GPA</th>
        </tr>
      </thead>
    </table>
    <p><button onclick="sortGPA()">Sắp Xếp GPA</button></p>
  </body>
</html>
